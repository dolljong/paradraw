"# paradraw" 

이 웹앱의 목적은 사용자가 변수(parameter)를 이용해서 그림을 그릴 수 있도록 하는 것입니다. 

이번 업데이트 내역입니다.

1. 치수선을 넣을 수 있는 기능을 추가했습니다.
2. 예제 정보읽기를 추가했습니다.
3. 반복/순차 구문을 추가했습니다.
4. 입력을 하나의 통합 텍스트박스로 변경했습니다.
5. 예제 선택 기능을 추가했습니다 (교대 단면, SIN 곡선, 원 곡선, 하트 곡선).

### 통합 입력 형식

변수, 좌표, 선, 치수를 하나의 텍스트박스에 입력합니다. 줄 형식으로 자동 구분됩니다.

| 종류 | 형식 | 예시 |
|------|------|------|
| 변수 | `이름=값` | `H1=2000;높이` |
| 좌표 | `이름=x수식,y수식` | `p1=0,0` |
| 선 | `line,점1,점2,...` | `line,p1,p2,p3;외벽` |
| 수평치수 | `HDIM,방향,점1,점2,...` | `HDIM,1,p1,p2;폭` |
| 수직치수 | `VDIM,방향,점1,점2,...` | `VDIM,-1,p1,p2` |
| 경사치수 | `ADIM,방향,점1,점2` | `ADIM,1,p1,p2` |

- `;` 뒤에 주석을 추가할 수 있습니다
- 방향: `1`(정방향), `-1`(역방향)

### 예제

드롭다운에서 예제를 선택하고 "예제 로드" 버튼을 클릭하면 예제 데이터가 로드됩니다.

| 예제 | 설명 |
|------|------|
| 교대 단면 | 옹벽 단면도 (변수로 치수 제어) |
| SIN 곡선 | `s[0-N]=L/N*i,A*Math.sin(...)` |
| 원 곡선 | `c[0-N]=R*Math.cos(...),R*Math.sin(...)` |
| 하트 곡선 | 매개변수 하트 방정식 (`Math.pow` 사용) |

### 반복/순차 구문

다수의 점을 한 줄로 생성하고, 선/치수선에서도 간편하게 연결할 수 있습니다.

**좌표 입력 — 범위 반복 `name[start-end]`**

`i`를 인덱스 변수로 사용하여 수식을 반복 평가합니다. 범위 경계에 변수도 사용 가능합니다.

```
s[0-N]=L/N*i,A*Math.sin(2*Math.PI*i/N)
```
위 입력은 아래와 같이 확장됩니다 (N=20일 때):
```
s[0]=L/N*0,A*Math.sin(2*Math.PI*0/N)
s[1]=L/N*1,A*Math.sin(2*Math.PI*1/N)
...
s[20]=L/N*20,A*Math.sin(2*Math.PI*20/N)
```

**선/치수선 입력 — 범위 확장 `name[start-end]`**

포인트 범위를 개별 포인트 목록으로 확장합니다.

```
line,s[0-N]      → line,s[0],s[1],...,s[20]
HDIM,1,s[0-5]    → HDIM,1,s[0],s[1],s[2],s[3],s[4],s[5]
```

**선/치수선 입력 — 순차 확장 `..`**

시작점과 끝점 사이의 중간 점을 자동 생성합니다. 숫자 접미사와 브라켓 표기 모두 지원합니다.

```
line,p1..p10     → line,p1,p2,p3,...,p10
line,s[1]..s[20] → line,s[1],s[2],...,s[20]
```

콤마 리스트와 혼합 사용도 가능합니다: `line,p1,p3..p7,p10`

**포인트 참조**

생성된 포인트는 다른 좌표 수식에서 참조할 수 있습니다.
```
t1=s[10].x,s[10].y+100
```

**사용 예시 (sin 곡선)**

```
A=500;진폭
L=2000;길이
N=20;분할수
s[0-N]=L/N*i,A*Math.sin(2*Math.PI*i/N)
line,s[0]..s[N]
```

실행방법은 paradraw1.html파일을 다운로드 받은 다음 파일탐색기에서 열면 됩니다. html파일 안에 javascript코드가 포함되어 있습니다.

앞으로의 계획 
1. 게시판에 그림정보(json)를 공유할 수 있도록 하면 간단한 단면도나 삽도는 공유할 수 있지 않을까 합니다.
2. 단면계수 구하기 등 도형을 기준으로 할 수 있는 다른 기능을 추가해보려고 합니다.

사용해보시고 조언부탁드립니다. 

![paradraw1](https://github.com/user-attachments/assets/cc064bb2-5c19-449a-aa91-5eaf9263919c)
![paradraw2](https://github.com/user-attachments/assets/333a4906-8051-4ccd-8253-dc2a826e5a2c)
